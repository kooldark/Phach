<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Th·∫ª H·ªçc ABC - Cho B√© Y√™u</title>

<link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;600;700&family=Lilita+One&display=swap" rel="stylesheet">

<style>
:root{
  --duration: 4000ms;
  --animSpeed: 1;
  --animate: 1;
}

/* RESET */
*{box-sizing:border-box;margin:0;padding:0;font-family:'Fredoka',sans-serif}

/* LAYOUT */
body{
  height:100vh;
  background:linear-gradient(135deg,#667eea 0%,#764ba2 25%,#f093fb 50%,#4facfe 75%,#00f2fe 100%);
  background-size:400% 400%;
  animation:gradientShift 15s ease infinite;
  display:flex;
  justify-content:center;
  align-items:center;
  overflow:hidden;
}

@keyframes gradientShift{
  0%{background-position:0% 50%}
  50%{background-position:100% 50%}
  100%{background-position:0% 50%}
}

.app{
  width:100%;
  height:100%;
  display:grid;
  grid-template-rows:80px 1fr auto;
}

/* HEADER */
.header{
  background:rgba(255,255,255,.95);
  backdrop-filter:blur(10px);
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:0 24px;
  box-shadow:0 8px 32px rgba(0,0,0,.1);
  border-bottom:4px solid #ff6b9d;
}

.title{
  font-size:32px;
  font-weight:700;
  color:#764ba2;
  font-family:'Lilita One',cursive;
  letter-spacing:2px;
}

/* CARD */
.card-wrap{
  display:flex;
  justify-content:center;
  align-items:center;
  overflow:hidden;
  position:relative;
}

.card{
  width:95%;
  max-width:900px;
  height:auto;
  min-height:500px;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  font-size:clamp(24px,6vw,80px);
  transition:opacity .4s ease, transform .4s ease;
  border-radius:40px;
  padding:40px;
  background:#fff;
  box-shadow:0 20px 60px rgba(0,0,0,.2);
  position:relative;
}

.card::before{
  content:'';
  position:absolute;
  top:-8px;
  right:-8px;
  width:100%;
  height:100%;
  border-radius:40px;
  background:linear-gradient(135deg,#ff6b9d,#c06c84);
  z-index:-1;
}

.card::after{
  content:'';
  position:absolute;
  bottom:-8px;
  left:-8px;
  width:100%;
  height:100%;
  border-radius:40px;
  background:linear-gradient(135deg,#667eea,#4facfe);
  z-index:-2;
}

.card.hide{
  opacity:0;
  transform:scale(.85);
}

.emoji{
  font-size:clamp(100px,20vw,280px);
  animation:bounceFloat 2.5s ease-in-out infinite;
  filter:drop-shadow(0 8px 16px rgba(0,0,0,.15));
  cursor:pointer;
  transition:transform .2s ease;
}

.emoji:hover{
  transform:scale(1.1);
}

.letter{
  font-weight:700;
  margin-top:24px;
  color:#764ba2;
  font-family:'Lilita One',cursive;
  font-size:clamp(40px,8vw,100px);
  text-shadow:3px 3px 0px rgba(0,0,0,.1);
}

.word{
  font-size:clamp(20px,4vw,48px);
  color:#666;
  margin-top:12px;
  font-weight:600;
}

.sound-btn{
  margin-top:20px;
  background:linear-gradient(135deg,#f093fb,#f5576c);
  border:none;
  color:white;
  padding:12px 24px;
  border-radius:20px;
  font-size:16px;
  font-weight:600;
  cursor:pointer;
  box-shadow:0 8px 20px rgba(245,87,108,.3);
  transition:all .3s ease;
  font-family:'Fredoka',sans-serif;
}

.sound-btn:hover{
  transform:translateY(-4px);
  box-shadow:0 12px 28px rgba(245,87,108,.4);
}

.sound-btn:active{
  transform:translateY(-2px);
}

@keyframes bounceFloat{
  0%,100%{transform:translateY(0) rotate(0deg)}
  25%{transform:translateY(-15px) rotate(5deg)}
  50%{transform:translateY(-25px) rotate(-5deg)}
  75%{transform:translateY(-15px) rotate(5deg)}
}

/* CONTROLS */
.controls{
  display:flex;
  justify-content:center;
  align-items:center;
  gap:16px;
  padding:24px 16px;
  flex-wrap:wrap;
}

button{
  border:none;
  background:#fff;
  padding:16px 20px;
  border-radius:20px;
  font-size:24px;
  cursor:pointer;
  box-shadow:0 8px 20px rgba(0,0,0,.15);
  transition:all .3s ease;
  font-weight:600;
}

button:hover{
  transform:translateY(-4px);
  box-shadow:0 12px 28px rgba(0,0,0,.2);
}

button:active{
  transform:translateY(-2px);
}

button#next,button#prev{
  background:linear-gradient(135deg,#667eea,#4facfe);
  color:white;
}

button#play{
  background:linear-gradient(135deg,#f093fb,#f5576c);
  color:white;
  min-width:60px;
}

.counter{
  font-weight:700;
  font-size:20px;
  color:#fff;
  background:rgba(0,0,0,.2);
  padding:12px 24px;
  border-radius:20px;
  backdrop-filter:blur(10px);
  min-width:140px;
  text-align:center;
}

/* SETTINGS */
.settings{
  position:fixed;
  right:24px;
  top:24px;
  z-index:100;
}

button#btnSettings{
  font-size:28px;
  background:#fff;
  box-shadow:0 8px 20px rgba(0,0,0,.2);
}

.panel{
  position:fixed;
  right:24px;
  top:80px;
  background:#fff;
  padding:24px;
  border-radius:24px;
  width:280px;
  box-shadow:0 20px 60px rgba(0,0,0,.3);
  display:none;
  z-index:99;
  border:3px solid #667eea;
}

.panel label{
  display:flex;
  flex-direction:column;
  font-size:16px;
  margin:16px 0;
  font-weight:600;
  color:#333;
}

.panel input[type="range"],
.panel input[type="checkbox"],
.panel select{
  margin-top:8px;
  cursor:pointer;
}

.panel input[type="range"]{
  width:100%;
  height:8px;
  border-radius:5px;
  background:linear-gradient(90deg,#667eea,#f093fb);
  outline:none;
}

.panel select{
  padding:8px 12px;
  border:2px solid #667eea;
  border-radius:12px;
  font-family:'Fredoka',sans-serif;
  font-size:14px;
}

/* DESKTOP */
@media(min-width:1024px){
  .card{
    flex-direction:row;
    gap:60px;
    min-height:600px;
  }
  
  .header{
    padding:0 40px;
  }
  
  .controls{
    gap:24px;
    padding:32px;
  }
  
  button{
    padding:18px 28px;
    font-size:28px;
  }
}
</style>
<body>
<div class="app">
  <div class="header">
    <div class="title">üé® ABC Magic ‚ú®</div>
    <div class="settings">
      <button id="btnSettings">‚öôÔ∏è C√†i ƒë·∫∑t</button>
    </div>
  </div>

  <div class="card-wrap">
    <div class="card" id="card"></div>
  </div>

  <div class="controls">
    <button id="prev">‚èÆÔ∏è Tr∆∞·ªõc</button>
    <button id="play" title="B·∫Øt ƒë·∫ßu/T·∫°m d·ª´ng">‚è∏Ô∏è</button>
    <div class="counter" id="counter">1 / 26</div>
    <button id="next">Ti·∫øp ‚è≠Ô∏è</button>
  </div>
</div>

<div class="panel" id="panel">
  <label>‚è±Ô∏è T·ªëc ƒë·ªô (ms)
    <input type="range" min="2000" max="10000" step="500" id="duration" value="4000">
  </label>

  <label>üé≤ Ch·∫ø ƒë·ªô
    <select id="mode">
      <option value="seq">Tu·∫ßn t·ª±</option>
      <option value="rand">Ng·∫´u nhi√™n</option>
    </select>
  </label>

  <label>
    <input type="checkbox" id="sound" checked>
    üîä √Çm thanh
  </label>

  <label>
    <input type="checkbox" id="anim" checked>
    ‚ú® Hi·ªáu ·ª©ng
  </label>

  <label>‚ö° T·ªëc ƒë·ªô hi·ªáu ·ª©ng
    <input type="range" min="0.5" max="2" step="0.1" id="speed" value="1">
  </label>
</div>

<script>
const cards = Object.freeze([
["A","Apple","üçé"],["B","Bear","üêª"],["C","Cat","üê±"],["D","Duck","ü¶Ü"],
["E","Eagle","ü¶Ö"],["F","Fish","üê†"],["G","Giraffe","ü¶í"],["H","Horse","üê¥"],
["I","Ibex","ü¶å"],["J","Juggler","ü§π"],["K","Kangaroo","ü¶ò"],["L","Lion","ü¶Å"],
["M","Monkey","üêµ"],["N","Nest","ü™∫"],["O","Owl","ü¶â"],["P","Pig","üê∑"],
["Q","Queen","üëë"],["R","Rabbit","üê∞"],["S","Snake","üêç"],["T","Tiger","üêØ"],
["U","Umbrella","‚òÇÔ∏è"],["V","Violin","üéª"],["W","Whale","üêã"],["X","X","‚ùå"],
["Y","Yacht","‚õµ"],["Z","Zebra","ü¶ì"]
]);

// H√†m ph√°t √¢m thanh
function playSound(text) {
  if (!document.getElementById("sound").checked) return;
  
  const utterance = new SpeechSynthesisUtterance(text);
  utterance.lang = 'en-US';
  utterance.rate = 0.9;
  utterance.pitch = 1.2;
  utterance.volume = 1;
  speechSynthesis.cancel();
  speechSynthesis.speak(utterance);
}

// √Çm thanh hi·ªáu ·ª©ng
function playBeep(freq = 800, duration = 200) {
  if (!document.getElementById("sound").checked) return;
  
  try {
    const audioContext = new (window.AudioContext || window.webkitAudioContext)();
    const oscillator = audioContext.createOscillator();
    const gainNode = audioContext.createGain();
    
    oscillator.connect(gainNode);
    gainNode.connect(audioContext.destination);
    
    oscillator.frequency.value = freq;
    oscillator.type = 'sine';
    
    gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
    gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + duration / 1000);
    
    oscillator.start(audioContext.currentTime);
    oscillator.stop(audioContext.currentTime + duration / 1000);
  } catch(e) {}
}

let idx=0, playing=true, timer;

const elCard=document.getElementById("card");
const counter=document.getElementById("counter");

function render(){
  elCard.classList.add("hide");
  setTimeout(()=>{
    const [l,w,e]=cards[idx];
    elCard.innerHTML=`
      <div class="emoji" onclick="playSound('${w}')">${e}</div>
      <div>
        <div class="letter">${l}</div>
        <div class="word">${w}</div>
        <button class="sound-btn" onclick="playSound('${w}')">üîä Ph√°t √¢m: ${w}</button>
      </div>`;
    counter.textContent=`${idx+1} / ${cards.length}`;
    elCard.classList.remove("hide");
    playBeep(880, 150);
    if(document.getElementById("sound").checked) {
      setTimeout(() => playSound(w), 300);
    }
  },200);
}

function next(){
  idx = document.getElementById("mode").value==="rand"
    ? Math.floor(Math.random()*cards.length)
    : (idx+1)%cards.length;
  render();
}

function start(){
  clearInterval(timer);
  timer=setInterval(next, Number(document.getElementById("duration").value));
}

document.getElementById("next").onclick=()=>{next();start();playBeep(1000, 150)}
document.getElementById("prev").onclick=()=>{
  idx=(idx-1+cards.length)%cards.length;
  render();
  start();
  playBeep(600, 150);
}

document.getElementById("play").onclick=e=>{
  playing=!playing;
  e.target.textContent=playing?"‚è∏Ô∏è":"‚ñ∂Ô∏è";
  playing?start():clearInterval(timer);
  playBeep(playing?880:600, 100);
}

document.getElementById("btnSettings").onclick=()=>{
  document.getElementById("panel").style.display=document.getElementById("panel").style.display?"":"block";
  playBeep(800, 100);
}

document.getElementById("duration").oninput=start;
document.getElementById("anim").onchange=()=>{
  document.documentElement.style.setProperty("--animate",document.getElementById("anim").checked?1:0);
  playBeep(700, 100);
}
document.getElementById("speed").oninput=()=>{
  document.documentElement.style.setProperty("--animSpeed",document.getElementById("speed").value);
  playBeep(800, 100);
}

render();
start();
</script>
